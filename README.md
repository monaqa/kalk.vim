# kalk.vim

Vim の計算を気軽に繰り返したいときに便利かもしれないプラグイン．

## Preparation

キーマップを以下のように定義することで使えるようになります．
`<Space>a` などの部分には好きなキーを配置することができます．

```
vmap <Space>a <Plug>(kalk-visual-apply)
vmap <Space>r <Plug>(kalk-visual-repeat)
```

## Usage

Preparation で書いたとおりにキーマップを定義したと仮定します．

例えば以下のように書かれたバッファがあったとします．

```
10000年と2000年前から愛してる
0.33 の純情な感情
```

`10000` の部分を選択して `<Space>a` と打つと

```
The way to convert 10000: x -> x
```

というダイアログが表示されます． `->` 以降は編集できるプロンプトとなっているので，ここを

```
The way to convert 10000: x -> x * 3
```

となるように編集して `<CR>` を押すと，

```
30000年と2000年前から愛してる
0.33 の純情な感情
```

となります． 10000 が3倍されて 30000 になりました．
この操作は `<Space>r` で繰り返すことができ， `2000` の部分を選択して `<Space>r` を押せば

```
30000年と6000年前から愛してる
0.33 の純情な感情
```

となり， `0.33` の部分を選択して `<Space>r` を押せば

```
30000年と6000年前から愛してる
0.99 の純情な感情
```

となります．さらに `99` の部分を選択して `<Space>r` を押せば

```
30000年と6000年前から愛してる
0.297 の純情な感情
```

となります．

## LICENSE

MIT
